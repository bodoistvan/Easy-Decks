<navbar></navbar>

<div class="container">
    <div class="border">
    <div class="d-flex justify-content-between px-2">

        <div class=""><h1>{{deckInfo? deckInfo.name : ""}}</h1></div>
        <div class=""><a href="/decks/modify?id={{ deckInfo? deckInfo.id : 0}}" class="btn btn-primary m-2"><i class="fas fa-cogs"></i></a></div>
        
    </div>

    <div class="d-flex justify-content-start align-items-center">
            <div class="ml-2 mr-2"><img class="formFlag" src="{{deckInfo? '/assets/images/flags/wide/'+deckInfo.lang1+'.svg' : '#'  }}"></div>
            <div class="mr-2"><img class="formFlag" src="{{deckInfo? '/assets/images/flags/wide/'+deckInfo.lang2+'.svg' : '#'  }}"></div>
            <div class="">{{deckInfo? deckInfo.level : ""}}</div>
    </div>

    <div class="mt-2 px-2">
        <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
            <li [ngbNavItem]="1">
            <a ngbNavLink>Learn</a>
            <ng-template ngbNavContent>
                <p>Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth
                master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro
                keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat
                salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui.</p>
            </ng-template>
            </li>
            <li [ngbNavItem]="2">
            <a ngbNavLink>Quiz</a>
            <ng-template ngbNavContent>
                <form [formGroup]=quizStartForm>
                    <div class="form-group d-flex justify-content-around align-items-center mb-0">
                      
                      <div class="form-check form-check-inline col-4 pt-2 ">
                            <label class="form-check-label mx-2">
                                <input class="form-check-input" formControlName="amount" type="radio" name="amount" id="amount5" value="5">5
                            </label>
                            <label class="form-check-label mx-2">
                                <input class="form-check-input" formControlName="amount" checked type="radio" name="amount" id="amount10" value="10">10
                            </label>
                            <label class="form-check-label mx-2">
                                <input class="form-check-input" formControlName="amount" type="radio" name="amount" id="amount20" value="20">20
                            </label>  
                      </div>
                      
                      <div class="form-check form-check-inline col-4 pt-2 ">
                        <label class="form-check-label mx-2">
                            <input class="form-check-input" formControlName="language" type="radio" name="language" id="selLang1" value="lang1">{{deckInfo? deckInfo.lang1 : 'lang1'}}
                        </label>
                        <label class="form-check-label mx-2">
                            <input class="form-check-input" formControlName="language" checked type="radio" name="language" id="selLang1" value="lang2">{{deckInfo? deckInfo.lang2 : 'lang2'}}
                        </label>
                     </div>

                      <button (click)="onQuizSubmit()" type="submit" class="btn btn-primary">QUIZ</button>
                    </div>  
                </form>
            </ng-template>
            </li>
        </ul>
      
        <div [ngbNavOutlet]="nav" class="mt-2"></div>
        </div>
    </div>
    <div class="border">
        <div class="row">

            <div class="col-6 col-sm-4 d-flex flex-column">
                  <a href="/decks/learn?id={{ deckInfo? deckInfo.id : 0}}" class="btn btn-warning m-2">LEARN</a>
                <div class="p-2 m-2 border">
                    
                </div>
            </div>
        </div>
    </div>

    <div class="border mt-4" >
        <div class="d-flex justify-content-between p-2">
            <h1>Last Quiz Result:</h1>
            <button (click)=onShowAllResult() class="my-2 btn btn-outline-success">Show all quiz results</button>
        </div>
        <div *ngIf="lastResult != undefined; then showResult else noResult"></div>
        <ng-template #showResult><app-quiz-result [result]=lastResult! ></app-quiz-result></ng-template>

        <!-- <pre> {{ lastResult | json}} </pre> -->

        <ng-template #noResult>No result found</ng-template>
        
    </div>

    <app-deck-info-cards *ngIf="deckInfo != undefined;" [deckId]=deckInfo.id></app-deck-info-cards>

</div>

